{"version":3,"file":"commonHelpers.js","sources":["../src/js/render-function.js","../src/js/pixabay-api.js","../src/main.js"],"sourcesContent":["import { setGallery } from '../main';\nimport { imageSet } from '../main';\n\nimport SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nexport function renderFunction() {\n  setGallery.innerHTML = '';\n\n  const imagesGallery = imageSet\n    .map(\n      image => `<li class=\"img-blok\">\n        <a href=\"${image.largeImageURL}\">     \n    <img  src=\"${image.webformatURL}\"\n    data-source=\"${image.largeImageURL}\"\n    alt=\"${image.tags}\">\n     <ul class=\"image-descript\">\n      <li><h3>likes</h3><p>${image.likes}</p></li>\n      <li><h3>views</h3><p>${image.views}</p></li>\n      <li><h3>comments</h3><p>${image.comments}</p></li>\n      <li><h3>downloads</h3><p>${image.downloads}</p></li>\n     </ul>\n   </a>\n   </li>`\n    )\n    .join('');\n\n  setGallery.insertAdjacentHTML('beforeend', imagesGallery);\n\n  const lightbox = new SimpleLightbox('.gallery a', {\n    captionsData: 'alt',\n  });\n  lightbox.refresh();\n}\n","import { imageSearch } from '../main';\n\nexport function getImagesGallery() {\n  const BASE_URL = 'https://pixabay.com/api/';\n  const params = new URLSearchParams({\n    key: '42985969-a702e02b9d921ed7e13374797',\n    q: imageSearch,\n    image_type: 'photo',\n    orientation: 'horizontal',\n    safesearch: 'true',\n  });\n  const url = `${BASE_URL}?${params}`;\n\n  return fetch(url).then(response => {\n    if (!response.ok) {\n      throw new Error(response.status);\n    }\n    return response.json();\n  });\n}\n","import { renderFunction } from './js/render-function';\nimport { getImagesGallery } from './js/pixabay-api';\n\nimport iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\nexport let imageSearch;\nexport let imageSet;\n\nexport const setGallery = document.querySelector('.gallery');\nconst form = document.querySelector('.form');\n\nconst loader = document.querySelector('.loader');\n\nconst showLoader = () => {\n  loader.style.display = 'flex';\n};\nconst hideLoader = () => {\n  loader.style.display = 'none';\n};\nconst handleLoad = () => {\n  document.body.classList.add('loaded');\n  document.body.classList.remove('loaded_hiding');\n};\n\nwindow.onload = handleLoad;\n\nform.addEventListener('submit', async e => {\n  e.preventDefault();\n  setGallery.innerHTML = '';\n  imageSearch = e.target.elements.search.value.trim();\n  if (!imageSearch.length) {\n    iziToast.error({\n      color: '#fff021',\n      message: `Please fill in the field for search query.`,\n      position: 'topRight',\n    });\n    setGallery.innerHTML = '';\n  }\n\n  showLoader();\n  try {\n    const images = await getImagesGallery();\n    imageSet = images.hits;\n    if (!imageSet.length) {\n      iziToast.error({\n        color: '#EF4040',\n        messageColor: '#ffffff',\n        message: `❌ Sorry, there are no images matching your search query. Please try again!`,\n        position: 'topRight',\n      });\n    }\n\n    renderFunction(images);\n  } catch (error) {\n    iziToast.error({\n      color: '#EF4040',\n      messageColor: '#ffffff',\n      message: `❌ Sorry, there was a mistake. Please try again!`,\n      position: 'topRight',\n    });\n  } finally {\n    hideLoader();\n    handleLoad();\n  }\n});\n"],"names":["renderFunction","setGallery","imagesGallery","imageSet","image","SimpleLightbox","getImagesGallery","BASE_URL","params","imageSearch","url","response","form","loader","showLoader","hideLoader","handleLoad","e","iziToast","images"],"mappings":"6vBAMO,SAASA,GAAiB,CAC/BC,EAAW,UAAY,GAEvB,MAAMC,EAAgBC,EACnB,IACCC,GAAS;AAAA,mBACIA,EAAM,aAAa;AAAA,iBACrBA,EAAM,YAAY;AAAA,mBAChBA,EAAM,aAAa;AAAA,WAC3BA,EAAM,IAAI;AAAA;AAAA,6BAEQA,EAAM,KAAK;AAAA,6BACXA,EAAM,KAAK;AAAA,gCACRA,EAAM,QAAQ;AAAA,iCACbA,EAAM,SAAS;AAAA;AAAA;AAAA,SAI3C,EACA,KAAK,EAAE,EAEVH,EAAW,mBAAmB,YAAaC,CAAa,EAEvC,IAAIG,EAAe,aAAc,CAChD,aAAc,KAClB,CAAG,EACQ,QAAO,CAClB,CC/BO,SAASC,GAAmB,CACjC,MAAMC,EAAW,2BACXC,EAAS,IAAI,gBAAgB,CACjC,IAAK,qCACL,EAAGC,EACH,WAAY,QACZ,YAAa,aACb,WAAY,MAChB,CAAG,EACKC,EAAM,GAAGH,CAAQ,IAAIC,CAAM,GAEjC,OAAO,MAAME,CAAG,EAAE,KAAKC,GAAY,CACjC,GAAI,CAACA,EAAS,GACZ,MAAM,IAAI,MAAMA,EAAS,MAAM,EAEjC,OAAOA,EAAS,MACpB,CAAG,CACH,CCbO,IAAIF,EACAN,EAEJ,MAAMF,EAAa,SAAS,cAAc,UAAU,EACrDW,EAAO,SAAS,cAAc,OAAO,EAErCC,EAAS,SAAS,cAAc,SAAS,EAEzCC,EAAa,IAAM,CACvBD,EAAO,MAAM,QAAU,MACzB,EACME,EAAa,IAAM,CACvBF,EAAO,MAAM,QAAU,MACzB,EACMG,EAAa,IAAM,CACvB,SAAS,KAAK,UAAU,IAAI,QAAQ,EACpC,SAAS,KAAK,UAAU,OAAO,eAAe,CAChD,EAEA,OAAO,OAASA,EAEhBJ,EAAK,iBAAiB,SAAU,MAAMK,GAAK,CACzCA,EAAE,eAAc,EAChBhB,EAAW,UAAY,GACvBQ,EAAcQ,EAAE,OAAO,SAAS,OAAO,MAAM,OACxCR,EAAY,SACfS,EAAS,MAAM,CACb,MAAO,UACP,QAAS,6CACT,SAAU,UAChB,CAAK,EACDjB,EAAW,UAAY,IAGzBa,IACA,GAAI,CACF,MAAMK,EAAS,MAAMb,IACrBH,EAAWgB,EAAO,KACbhB,EAAS,QACZe,EAAS,MAAM,CACb,MAAO,UACP,aAAc,UACd,QAAS,6EACT,SAAU,UAClB,CAAO,EAGHlB,EAAemB,CAAM,CACtB,MAAe,CACdD,EAAS,MAAM,CACb,MAAO,UACP,aAAc,UACd,QAAS,kDACT,SAAU,UAChB,CAAK,CACL,QAAY,CACRH,IACAC,GACD,CACH,CAAC"}